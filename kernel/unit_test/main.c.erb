#include <stdio.h>

#define RUN_TEST(test_name)             \
    if (test_name())                    \
    {                                   \
        printf(#test_name " X (line %d)\n", failed_line);   \
        return 1;                       \
    }                                   \
    else printf(#test_name " O\n")

int failed_line;

<% tests.each do |t| %>
int <%= t %>();
<% end %>

int main(void)
{
<% tests.each do |t| %>
    RUN_TEST(<%= t %>);
<% end %>
    return 0;
}
